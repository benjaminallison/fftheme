jQuery(document).ready(function(a){function b(a,b,c,d,e){return(a-b)/(c-b)*(e-d)+d}function c(){var b=window,c="inner";"innerWidth"in window||(c="client",b=document.documentElement||document.body),a.windowWidth=b[c+"Width"],a.windowHeight=b[c+"Height"]}function d(){c(),g()}function e(){h="open",a("body").addClass("no-scroll"),a(".nav-toggle").addClass("open"),a("nav").addClass("open")}function f(){h="closed",a("body").removeClass("no-scroll"),a(".nav-toggle").removeClass("open"),a("nav").removeClass("open")}function g(){if(a.windowWidth>a.mobileBreakPoint){var c=a(window).scrollTop(),d=a(".centredParallax").outerWidth(),e=a(".centredParallax").outerHeight(),f=d/e,g=a(".centredParallax").data("bgwidth"),h=a(".centredParallax").data("bgheight"),i=g/h,j=b(c,1,e,1,200);f>i?(a(".centredParallax").removeClass("bg-tall"),a(".centredParallax").addClass("bg-wide"),a(".centredParallax").css({backgroundPosition:"50% "+j+"px"})):(a(".centredParallax").removeClass("bg-wide"),a(".centredParallax").addClass("bg-tall"),a(".centredParallax").css({backgroundPosition:"50% "+j+"px"}))}}window.scrollTo(0,1),a.windowWidth=null,a.windowHeight=null,a.mobileBreakPoint=640;var h="closed";a(".nav-toggle").click(function(){"closed"===h?(e(),a("nav").animate({left:0},500,"easeInOutExpo")):(f(),a("nav").animate({left:"100%"},500,"easeInOutExpo"))}),a(document).keydown(function(b){27===b.which&&(b.preventDefault(),f(),a("nav").animate({left:"100%"},500,"easeInOutExpo"))}),a(window).resize(function(){d()}),a(window).load(function(){d()}),a(window).scroll(function(){g()}),d()});